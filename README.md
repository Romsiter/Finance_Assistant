# ğŸ§  Voice-Based Finance Assistant

An AI-powered assistant that lets users ask financial questions by voice. The system transcribes audio using Whisper, performs intelligent financial data retrieval and analysis using autonomous agents, and replies back with synthesized speech using OpenAI TTS.

---

## ğŸš€ Features

- ğŸ™ï¸ Voice input via microphone (Streamlit frontend)
- ğŸ“ Automatic transcription using Whisper
- ğŸ§  CrewAI agents that retrieve market data, run analysis, and generate a natural language summary
- ğŸ”ˆ TTS audio response using OpenAI's `tts-1` model
- ğŸŒ FastAPI backend for handling the pipeline
- ğŸ§© Modular, agent-based architecture for extensibility

---

## ğŸ§‘â€ğŸ’¼ Use Case: Financial Voice Assistant

This assistant is built for retail investors or analysts who want spoken updates on stocks, economic indicators, or news summaries without typing.

---

## ğŸ› ï¸ CrewAI Agent Roles

| Agent           | Purpose |
|-----------------|---------|
| **Stock Agent** | Retrieves stock price and performance data |
| **Scraper Agent** | Collects financial headlines or news |
| **Retriever Agent** | Finds relevant context using vector databases |
| **Analysis Agent** | Synthesizes all info into coherent insights |
| **Language Agent** | Refines language for clarity and quality |
| **TTS Agent** | Converts the final summary into spoken audio (`.wav` format) |

---

## ğŸ§© Workflow Overview

1. ğŸ¤ User records a voice query using the Streamlit frontend.
2. ğŸ“¤ Audio is sent to FastAPI `/process_query` endpoint.
3. ğŸ”Š Whisper transcribes the audio to text.
4. ğŸ§  CrewAI agents collaborate to understand, retrieve, and synthesize financial data.
5. ğŸ“„ The final summary is written to `final_answer.txt`.
6. ğŸ”ˆ The TTS Agent reads it and creates `tts_xxx.wav`.
7. ğŸ“¥ The frontend plays the response as audio.

---

## ğŸ“¦ Installation

### 1. Clone the repo
```bash
git clone https://github.com/Romsiter/Finance_Assistant.git
cd Finance_Assistant
```

### 2. Create and Activate a Virtual Environment
```bash
python -m venv venv
source venv/bin/activate      # On Windows: venv\Scripts\activate
```
###3. Install Dependencies
```bash
pip install -r requirements.txt
```
### 4. Set Your Environment Variables
Create a .env file in the project root:

```env
OPENAI_API_KEY=your_openai_api_key
ALPHAVANTAGE_API_KEY=your_api_key
```
## â–¶ï¸ How to Run Locally
### Step 1: Start the FastAPI Backend
```bash
uvicorn main:app --reload
```

### Step 2: Launch the Streamlit Frontend
In a new terminal window (with the virtual environment still activated):

```bash
streamlit run streamlit_app.py
```


## ğŸ¤ Usage Example
1. Open the Streamlit app in your browser.

2. Click "ğŸ¤ Record Audio" and speak your query (e.g. "What's the latest news about Apple stock?").

3. Click "ğŸ§  Get Market Brief" to process your audio.

4. The assistant will:

  -Transcribe your speech using Whisper
  
  - Retrieve and analyze financial data using CrewAI agents
  
  -Synthesize a response
  
  -Speak the response back using OpenAI TTS

## ğŸ“ File Structure
```bash
Copy
Edit
â”œâ”€â”€ main.py                  # FastAPI backend with Whisper + Crew
â”œâ”€â”€ streamlit_app.py         # Frontend interface for voice input/output
â”œâ”€â”€ final_answer.txt         # Final summary generated by agents
â”œâ”€â”€ requirements.txt         # Python dependencies
â”œâ”€â”€ .env                     # API keys and secrets

```

## ğŸ§  Technologies Used
FastAPI â€“ REST backend

Streamlit â€“ UI frontend

OpenAI Whisper â€“ Speech-to-text

OpenAI TTS (tts-1) â€“ Text-to-speech

CrewAI â€“ Agent-based task delegation

LangChain â€“ Vector retrieval and document QA

SoundDevice + SoundFile â€“ For local audio recording

Faiss â€“ Fast vector search engine for embedding lookups


